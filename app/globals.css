/* Tailwind CSS Directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Color Variables */
:root {
  --sand: #E6B686;
  --coffee: #66321A;
  --sky: #CAF2FC;
  --grape: #9337C6;
  --plum: #301A4E;
  --midnight: #1A0536;
  --glow-color: var(--sky);
  --glow-strength: 5px;
  --shadow-color: rgba(0, 0, 0, 0.3);
  --shadow-strength: 3px;
}

/* Base Styles */
@layer base {
  body {
    @apply bg-gradient-custom from-sky via-sand to-coffee text-coffee;
  }
  .dark body {
    @apply bg-gradient-custom from-grape via-plum to-midnight text-sky;
  }
}

/* Custom Utility Classes */
@layer utilities {
  /* Custom Font Sans */
  .font-sans {
    font-family: var(--font-custom), var(--font-inter), ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  }

  /* Hide Scrollbar */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .landing-page-background {
    background-color: #0f0620;
  }

  /* Text Glow Effects */
  .text-glow {
    text-shadow: 
      0 0 var(--glow-strength) var(--glow-color),
      0 var(--shadow-strength) var(--shadow-strength) var(--shadow-color);
  }
  .text-glow-sm {
    --glow-strength: 2px;
    --shadow-strength: 1px;
  }
  .text-glow-md {
    --glow-strength: 5px;
    --shadow-strength: 3px;
  }
  .text-glow-lg {
    --glow-strength: 10px;
    --shadow-strength: 5px;
  }
}

/* Layout and Container Styles */
.container {
  width: 100%;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
}

html,
body,
#__next {
  height: 100%;
  overflow-x: hidden;
}

.fixed.inset-0 {
  height: 100vh;
  height: calc(var(--vh, 1vh) * 100);
}

/* Page-specific Styles */
.landing-page,
.marketplace-page {
  position: relative;
}

.landing-page::before,
.marketplace-page::before {
  content: '';
  position: fixed;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(202, 242, 252, 0.9),
    rgba(230, 182, 134, 0.9) 50%,
    rgba(102, 50, 26, 0.9)
  );
  z-index: 0;
  pointer-events: none;
}

.dark .landing-page::before,
.dark .marketplace-page::before {
  background: linear-gradient(
    135deg,
    rgba(147, 55, 198, 0.9),
    rgba(48, 26, 78, 0.9) 50%,
    rgba(26, 5, 54, 0.9)
  );
}

/* Box Component Styles */
.box {
  overflow: hidden;
}

.box:hover .imgBox {
  transform: translate(-28px, -28px);
}

.box:hover .content {
  transform: translate(28px, 28px);
}

@media (max-width: 640px) {
  .box:hover .imgBox {
    transform: translate(0, -28px);
  }

  .box:hover .content {
    transform: translate(0, 28px);
  }
}

/* Button Fable Styles */
.button-fable,
.button-fable:after {
  width: 200px;
  height: 60px;
  line-height: 62px;
  font-size: 20px;
  font-family: var(--font-custom), 'Bebas Neue', sans-serif;
  background: linear-gradient(45deg, transparent 5%, var(--midnight) 5%);
  border: 0;
  color: var(--sky);
  letter-spacing: 3px;
  box-shadow: 6px 0px 0px var(--grape);
  outline: transparent;
  position: relative;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  cursor: pointer;
  z-index: 0;
  border-radius: 10px;
  text-shadow: 0 0 10px var(--sky), 0 0 20px var(--sky), 0 0 30px var(--sky);
  transition: text-shadow 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
}

.button-fable:before {
  content: "";
  background: linear-gradient(
    45deg,
    var(--coffee),
    var(--sand),
    var(--sky),
    var(--grape),
    var(--plum),
    var(--midnight),
    var(--coffee)
  );
  position: absolute;
  top: -2px;
  left: -2px;
  background-size: 400%;
  z-index: -1;
  filter: blur(8px);
  -webkit-filter: blur(8px);
  width: calc(100% + 4px);
  height: calc(100% + 4px);
  animation: glowing-button-fable 20s linear infinite;
  transition: opacity 0.3s ease-in-out;
  border-radius: 10px;
}

.button-fable:after {
  --slice-0: inset(50% 50% 50% 50%);
  --slice-1: inset(80% -6px 0 0);
  --slice-2: inset(50% -6px 30% 0);
  --slice-3: inset(10% -6px 85% 0);
  --slice-4: inset(40% -6px 43% 0);
  --slice-5: inset(80% -6px 5% 0);

  content: 'ENTER LIBRARY';
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(45deg, transparent 3%, var(--grape) 3%, var(--grape) 5%, var(--midnight) 5%);
  text-shadow: -3px -3px 0px var(--sand), 3px 3px 0px var(--grape);
  clip-path: var(--slice-0);
}

.button-fable:hover:before {
  opacity: 1;
}

.button-fable:hover {
  text-shadow: 0 0 20px var(--sky), 0 0 40px var(--sky), 0 0 60px var(--sky);
  box-shadow: 0 0 20px var(--grape), 6px 0px 20px var(--grape);
}

.button-fable:hover:after {
  animation: glitch-button 1s steps(2, end) infinite;
}

.button-fable:active {
  color: var(--sky);
  box-shadow: inset 0 0 20px var(--coffee);
}

/* Dark Mode Button Fable Styles */
.dark .button-fable {
  background: linear-gradient(45deg, transparent 5%, var(--sky) 5%);
  color: var(--sky);
  box-shadow: 6px 0px 0px var(--sand);
  text-shadow: 0 0 10px var(--sky), 0 0 20px var(--sky), 0 0 30px var(--sky);
}

.dark .button-fable:after {
  background: linear-gradient(45deg, transparent 3%, var(--sand) 3%, var(--sand) 5%, var(--sky) 5%);
  text-shadow: -3px -3px 0px var(--plum), 3px 3px 0px var(--sand);
}

.dark .button-fable:hover {
  text-shadow: 0 0 20px var(--sky), 0 0 40px var(--sky), 0 0 60px var(--sky);
  box-shadow: 0 0 20px var(--sand), 6px 0px 20px var(--sand);
}

.dark .button-fable:active {
  color: var(--sky);
  box-shadow: inset 0 0 20px var(--grape);
}

/* Loader Styles */
.loader {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: var(--midnight);
}

/* Glitch Effect Styles */
.glitch {
  position: relative;
  font-size: 25px;
  font-weight: 700;
  line-height: 1.2;
  color: #fff;
  letter-spacing: 5px;
  animation: shift 1s ease-in-out infinite alternate;
}

.glitch:before,
.glitch:after {
  display: block;
  content: attr(data-glitch);
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0.8;
}

.glitch:before {
  animation: glitch 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) both infinite;
  color: #8b00ff;
  z-index: -1;
}

.glitch:after {
  animation: glitch 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) reverse both infinite;
  color: #00fffb;
  z-index: -2;
}

/* Animation Keyframes */
@keyframes scale-x {
  0% { transform: scaleX(0); }
  100% { transform: scaleX(1); }
}

@keyframes fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes glowing-button-fable {
  0% { background-position: 0 0; }
  50% { background-position: 400% 0; }
  100% { background-position: 0 0; }
}

@keyframes glitch-button {
  0% { clip-path: var(--slice-1); transform: translate(-20px, -10px); }
  10% { clip-path: var(--slice-3); transform: translate(10px, 10px); }
  20% { clip-path: var(--slice-1); transform: translate(-10px, 10px); }
  30% { clip-path: var(--slice-3); transform: translate(0px, 5px); }
  40% { clip-path: var(--slice-2); transform: translate(-5px, 0px); }
  50% { clip-path: var(--slice-3); transform: translate(5px, 0px); }
  60% { clip-path: var(--slice-4); transform: translate(5px, 10px); }
  70% { clip-path: var(--slice-2); transform: translate(-10px, 10px); }
  80% { clip-path: var(--slice-5); transform: translate(20px, -10px); }
  90% { clip-path: var(--slice-1); transform: translate(-10px, 0px); }
  100% { clip-path: var(--slice-1); transform: translate(0); }
}

@keyframes glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-3px, 3px); }
  40% { transform: translate(-3px, -3px); }
  60% { transform: translate(3px, 3px); }
  80% { transform: translate(3px, -3px); }
  to { transform: translate(0); }
}

@keyframes shift {
  0%, 40%, 44%, 58%, 61%, 65%, 69%, 73%, 100% { transform: skewX(0deg); }
  41% { transform: skewX(10deg); }
  42% { transform: skewX(-10deg); }
  59% { transform: skewX(40deg) skewY(10deg); }
  60% { transform: skewX(-40deg) skewY(-10deg); }
  63% { transform: skewX(10deg) skewY(-5deg); }
  70% { transform: skewX(-50deg) skewY(-20deg); }
  71% { transform: skewX(10deg) skewY(-10deg); }
}

/* Animation Classes */
.animate-scale-x {
  animation: scale-x 1s ease-out forwards;
}

.animate-fade-in {
  animation: fade-in 1s ease-out 0.5s forwards;
}

/* Media Queries */
@media (max-width: 767px) {
  .glitch {
    font-size: 20px;
  }
}

@media (min-width: 768px) {
  .button-fable,
  .button-fable:after {
    width: 200px;
    height: 86px;
    line-height: 88px;
  }
}